window.WPFormsPhoneField=window.WPFormsPhoneField||((i,r,o)=>{let a={init(){o(i).on("wpformsReady",a.ready)},ready(){a.loadValidation(),a.loadSmartField(),a.bindSmartField(),o(".wpforms-smart-phone-field").each(function(){a.repairSmartHiddenField(o(this))})},loadValidation(){void 0!==o.fn.validate&&(o.validator.addMethod("us-phone-field",function(t,e){return!t.match(/[^\d()\-+\s]/)&&(this.optional(e)||10===t.replace(/\D/g,"").length)},wpforms_settings.val_phone),o.validator.addMethod("int-phone-field",function(t,e){return!t.match(/[^\d()\-+\s]/)&&(this.optional(e)||0<t.replace(/\D/g,"").length)},wpforms_settings.val_phone),void 0!==r.intlTelInput)&&o.validator.addMethod("smart-phone-field",function(t,e){var n;return!t.match(/[^\d()\-+\s]/)&&(t=r.intlTelInput?.getInstance(e),n=o(e).triggerHandler("validate"),this.optional(e)||t?.isValidNumberPrecise()||n)},wpforms_settings.val_phone)},loadSmartField(t=null){void 0!==r.intlTelInput&&(a.loadJqueryIntlTelInput(),(t=t?.length?t:o(i)).find(".wpforms-smart-phone-field").each(function(t,e){e=o(e);if(e.parents(".elementor-location-popup").is(":hidden"))return!1;a.initSmartField(e,{})}))},loadJqueryIntlTelInput(){void 0===o.fn.intlTelInput&&o.fn.extend({intlTelInput(r){var t=o(this);if(void 0===r||"object"==typeof r)return r.preferredCountries&&(r.countryOrder=r.preferredCountries),t.each(function(){var t=o(this);a.initSmartField(t,r)});if("string"==typeof r||"_"!==r[0]){let n=r,i=this;return t.each(function(){var t=o(this),e=t.data("plugin_intlTelInput");"function"==typeof e[n]&&(i=e[n](),"destroy"===r)&&t.removeData("plugin_intlTelInput")}),i}}})},initSmartField(e,n){if("object"!=typeof e.data("plugin_intlTelInput")){n=0<Object.keys(n).length?n:a.getDefaultSmartFieldOptions();let t=e.closest(".wpforms-field-phone").data("field-id");e.attr("name","wpf-temp-wpforms[fields]["+t+"]"),e.addClass("wpforms-input-temp-name"),n.hiddenInput=function(){return{phone:"wpforms[fields]["+t+"]"}};n=r.intlTelInput(e.get(0),n),n=(e.on("validate",function(){var t=r.intlTelInput?.getInstance(e.get(0));return!t||"function"!=typeof t.isValidNumber||t.isValidNumber(t.getNumber())}),e.data("plugin_intlTelInput",n),function(){var t=e.data("plugin_intlTelInput");e.siblings('input[type="hidden"]').val(t.getNumber())});e.on("blur input",n),o(i).ready(n)}},bindSmartField(){o(".wpforms-form").on("wpformsBeforeFormSubmit",function(){var t=o(this).find(".wpforms-smart-phone-field");t.each(function(){a.repairSmartHiddenField(o(this))}),t.trigger("input")})},repairSmartHiddenField(n){var i=n.closest(".wpforms-field-phone").data("field-id");if(!o('[name="wpforms[fields]['+i+']"]').length){i=n.data("plugin_intlTelInput");let t=n.val(),e={};i&&(e=i.d||i.options||{},t=i.getNumber(),i.destroy()),n.removeData("plugin_intlTelInput"),n.val(t),a.initSmartField(n,e)}},getDefaultSmartFieldOptions(){var t,e={countrySearch:!1,fixDropdownWidth:!1,countryOrder:["us","gb"],countryListAriaLabel:wpforms_settings.country_list_label,validationNumberTypes:["FIXED_LINE_OR_MOBILE"]};wpforms_settings.gdpr||(e.geoIpLookup=a.currentIpToCountry);let n;if(wpforms_settings.gdpr&&(t=a.mapLanguageToIso(a.getFirstBrowserLanguage()),n=-1<t.indexOf("-")?t.split("-").pop():t),n){let t=r.intlTelInput?.getCountryData();t=t.filter(function(t){return t.iso2===n.toLowerCase()}),n=t.length?n:""}return e.initialCountry=wpforms_settings.gdpr&&n?n.toLowerCase():"auto",e},getFirstBrowserLanguage(){var t=r.navigator,e=["language","browserLanguage","systemLanguage","userLanguage"];let n,i;if(Array.isArray(t.languages))for(n=0;n<t.languages.length;n++)if((i=t.languages[n])&&i.length)return i;for(n=0;n<e.length;n++)if((i=t[e[n]])&&i.length)return i;return""},mapLanguageToIso(t){return{ar:"ar-SA",bg:"bg-BG",ca:"ca-ES",cs:"cs-CZ",da:"da-DK",de:"de-DE",el:"el-GR",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",he:"he-IL",hi:"hi-IN",hr:"hr-HR",hu:"hu-HU",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",ms:"ms-MY",nl:"nl-NL",no:"nb-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",sr:"sr-RS",sv:"sv-SE",th:"th-TH",tr:"tr-TR",uk:"uk-UA",vi:"vi-VN",zh:"zh-CN"}[t]||t},currentIpToCountry(n){if(wpforms_settings.country)n(wpforms_settings.country);else{let e=function(){o.get("https://ipapi.co/jsonp",function(){},"jsonp").always(function(t){let e=t?.country?t.country:"";e||(t=a.getFirstBrowserLanguage(),e=-1<t.indexOf("-")?t.split("-").pop():""),n(e)})};o.get("https://geo.wpforms.com/v3/geolocate/json").done(function(t){t&&t.country_iso?n(t.country_iso):e()}).fail(function(){e()})}}};return a})(document,window,jQuery),window.WPFormsPhoneField.init();